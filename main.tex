\documentclass[11pt, a4paper, german, twoside]{article}

\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{mathtools} %for \coloneqq
\usepackage{faktor}
\usepackage{tikz-cd} 
%bibliography
\usepackage[noadjust]{cite}
\usepackage{hyperref}
\usepackage{enumitem}
%font
%\usepackage[euler-digits, euler-hat-accent]{eulervm}
%\usepackage{newpxtext}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}

%frontpage
\usepackage{BA_Titelseite}

\author{Maximilian Rath}
\geburtsdatum{2. Januar 1995}
\geburtsort{Reutlingen}

\date{\today}
\betreuer{Prof. Dr. Daniel Huybrechts}
\zweitgutachter{Dr. Martin Ulirsch}
\institut{Mathematisches Institut}


\title{Motivic Zeta Function}
\ausarbeitungstyp{Bachelorarbeit Mathematik}

%I don't want to write the Grothendieck-Ring over and over
\newcommand{\gring}[1][k]{K_0[\mathcal{V}_#1]}

\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\chara}{char}
\begin{document}

\maketitle
\tableofcontents
\section{Introduction}

In 1949 Andr\'e Weil, in the paper \cite{weil1949}, formulated his famous conjectures
which predicted certain deep properties of the Hasse--Weil zeta function $Z(X,t)$ for a variety $X$ over a finite field $k = \mathbb{F}_q$.
The zeta function is defined as 
\[
    Z(X,t) = \exp \left(\sum_{m=0}^\infty \frac{|X(\mathbb{F}_{q^m})|}{m} t^m \ \right) \in \mathbb{Q}[[t]].
\]

Dwork first established the rationality of the zeta function in \cite{Dwork}, the most basic of the three conjectures. 
Later, using his new scheme theoretic approach to algebraic geometry, Grothendieck gave another proof for the special case of 
smooth projective varieties (\cite{GroRat}).

%\begin{theorem}
%    Let $X$ be a non-singular projective variety over a finite field $k = \mathbb{F}_q$. Then Z(X,t) is a rational function of t.
%\end{theorem}

In \cite{kapranov}, Kapranov generalized the Hasse--Weil zeta function, defining it not only for varieties over finite fields
but for varieties over arbitrary ground fields. 
This \emph{motivic zeta function} has coefficents in the so called \emph{Grothendieck ring of varieties} $\gring[k]$ 
over some fixed field $k$, 
which is the free abelian group generated by isomorphism classes of varieties subject to additional "cut-and-paste" relations
(see Definition \ref{gringdef}). It is given as 
\[
    \zeta_{\mu}(X,t) \coloneqq \sum_{n=0}^{\infty} \mu \left( \left[ \Sym^n(X) \right] \right) t^n
\]
where $\mu$ is a ring homomorphism from $\gring[k]$ to some fixed ring $A$ (also called a \emph{motivic measure}), 
and $Sym^n(X)$ is the $n$-fold symmetric product of $X$ (see Definition \ref{symdef}). 
It is a natural question to ask if this zeta function is still a rational function (at least if $\mu$ takes values in a field).
Kapranov proved this for smooth projective curves (\cite[Thm 1.1.9]{kapranov}) and conjectured that it is true in general.
It turns out that in the motivic setting the zeta function is not as well behaved in terms of rationality as in the classical case:
Larsen and Lunts showed in \cite{MR1996804} that the zeta function fails to be rational for certain complex surfaces.

\begin{theorem}[{\cite[Thm. 1.6]{MR1996804}}]
\label{irrational}
Assume that $k = \mathbb{C}$. There exists a field $\mathcal{H}$ and a motivic measure $\mu_h \colon \gring \to \mathcal{H}$ with the following
property: if $X$ is a smooth complex projective surface such that the geometric genus $P_g(X)=h^{2,0}(X)$ is at least 2, 
then the zeta-function $\zeta_{\mu_h}(X,t)$ is not a rational function.
\end{theorem}

The goal of this thesis is to give a simplified proof of this result, using results about the Grothendieck ring that were not available
to Larsen and Lunts.
We will first introduce the Grothendieck ring in Section \ref{sec1} and investigate its structure. 
This culminates in a structure theorem due to Bittner (\cite[Thm 3.1]{Bittner}) which will allow us to substantially simplify the original 
proof.
The second section is devoted to the definition of the motivic zeta function, which entails defining and giving examples for the symmetric 
product. There, we will also exhibit the connection between the classical Hasse--Weil zeta function and the motivic one as well as a glimpse of
Kapranovs proof of the rationality for curves.
The construction of the motivic measure $\mu_h$ under wich $Z_{\mu_h}(X,t)$ becomes irrational is content of Section \ref{const} while irrationality
is then finally proven in the last section.

\section{German Summary}
In dieser Bachelorarbeit soll ein Resultat von Larsen und Lunts (\cite{MR1996804}) über die Rationalität der sogenannten 
\emph{motivischen Zetafunktion}
bewiesen werden. Die motivische Zetafunktion ist eine Verallgemeinerung der Hasse--Weil Zetafunktion für Varietäten über endlichen Körpern
mit Koeffizienten im Grothendieckring der Varietäten $\gring[k]$. Dieser wird von Isomorphieklassen von algebraischen Varietäten erzeugt, 
zwischen denen gewisse zusätzliche "cut-and-paste" Relationen bestehen (Siehe Definition \ref{gringdef}). 
Diese motivische Zetafunktion ist, im Gegensatz zur Hasse-Weil Zetafunktion, im allgemeinen nicht rational. 
Konkret wird folgendes Resultat bewiesen.
\begin{theorem}[{\cite[Thm. 1.6]{MR1996804}}]
Sei $k = \mathbb{C}$. Dann existiert ein Körper $\mathcal{H}$ und ein Ringhomomorphismus $\mu_h \colon \gring \to \mathcal{H}$ mit der folgenden
Eigenschaft: Falls $X$ eine glatte, projektive, komplexe Fläche mit geometrischem Genus $P_g(X) = h^{2,0}(X)$ von mindestens 2 ist, dann ist die
motivische Zetafunktion $\zeta_{\mu_h}(X,t)$ nicht rational.
\end{theorem}

%TODO: acknowledgments

%We now want to motivate what a possible generalization of the Hasse-Weil zeta function for varieties over a arbitrary field $k$ could be.
%This part therefore, in some places, sacrifices mathematical precision for the sake of brevity.  
%We still give citations for most of the results and will of course develop everything that is important for the presentation and proof 
%of our main result in later sections in full detail.
%
%Two things do not generalize easily: the passing to bigger and bigger extensions of the ground field $k$ (what if $k$ is algebraically closed,
%for example?), and counting $k$-rational points (again, if $k = \bar{k}$ there are, in general, a lot of $k$-rational points). 
%
%To see what could be generalizations for these phenomena, 
%we give another equivalent definition of the Hasse--Weil zeta function in terms of effective 0-cycles. 
%Recall that a 0-cycle on a variety $X$ is an element of the free abelian group over the closed 
%points of $X$. Such a cycle $\alpha = \sum_i n_i x_i$ is called \emph{effective} if the $n_i$ are greater than or equal to zero.
%The \emph{degree} of $\alpha$ is given by $\deg(\alpha) = \sum_i n_i \deg(x_i)$ 
%(with $\deg(x_i)$ being the degree of the field extension $\kappa(x_i)/k$).
%
%Using this notation we can rewrite the zeta function as follows 
%\begin{equation}
%    Z(X,t) = \sum_{\alpha} t^{\deg(\alpha)}.
%\end{equation}
%Where the sum ranges over all effective 0-cycles on $X$.
%(For a proof of this (elementary) identity see for example Musta\c{t}\u{a}'s great notes on zeta functions in algebraic geometry 
%\cite[Rem. 2.9]{mustata})
%
%This definition still does not easily generalize, since for example $\mathbb{A}_{\mathbb{C}}^1$ has infinitely many 0-cycles of degree $n$.
%
%But counting degree zero cycles of a given degree $n$, is the same as counting $k$-rational points of the $n$-fold symmetric product of the 
%variety $X$ (denoted by $\Sym^n(X)$).
%We will not formally introduce the symmetric product until later, but thinking of it as the quotient of 
%the $n$-fold product of $X$ with itself by the natural action of the symmetric group in $n$ letters gives the right intuition. 
%For $k$ algebraically closed, the bijection is obvious, since then the $k$-rational points are exactly the closed points. 
%Dividing out by the action of the symmetric group hence introduces the commutativity-relations we have if we consider formal sums
%of such closed points. This intuition carries over for the case of finite fields, hence we get
%
%\begin{equation}
%   Z(X,t) = \sum_{n} |\Sym^n(X)(k)| t^n.
%\end{equation}
%
%So, in some rough sense, we are "measuring" the size of bigger and bigger symmetric products of X, so we expect the symmetric product
%to make an apearance in our generalized zeta function, taking the role of counting solutions over bigger and bigger field-extensions.


\section{Motivic Measures on the Grothendieck Ring of Varieties}
\label{sec1}
In the following the term \emph{$k$-variety} always means a separated, reduced scheme of finite type over a field $k$.
We will write $\mathcal{V}_k$ for the category of $k$-varieties. 

\begin{definition}
    \label{gringdef}
    Let $k$ be a perfect field. 
    Consider the abelian group of formal linear combinations of isomorphism classes of varieties, subject to relations of the form
    \[
        [X \setminus Y] = [X] - [Y],
    \] where $Y$ is closed in $X$.
    With multiplication given by
    \[
        [X][Y] \coloneqq [X \times Y]
    \]
    this datum forms a ring, called the \emph{Grothendieck ring of varieties} and denoted by $\gring$. 
    
    A \emph{motivic measure} with values in a ring $A$ is a ring homomorphism $\mu \colon \gring \to A$. The identity function
    $\mathrm{id} \colon \gring \to \gring$ is called the \emph{universal motivic measure}.
\end{definition}

To see that this is really a ring we have to check that multiplication is compatible with the relations. We have for $Y \subset X$ closed
\begin{align*}
    [Z] ([X \setminus Y])   &= [Z \times (X \setminus Y)] = [(Z \times X) \setminus (Z \times Y)] \\
                            &= [Z \times X] - [Z \times Y] = [Z]([X] - [Y]).
\end{align*}
Hence the multiplication in the Grothendieck ring is well defined.

\begin{remark}
The reason we require $k$ to be perfect is that for nonperfect $k$ the product of two varieties need not be reduced. Take for example
$k = k_0(t)$ with $k_0$ of characteristic $p > 0$ and set $X = \Spec(k[x]/(x^p - t))$ and $Y = \Spec(K) \coloneqq \Spec(k(t^{\frac{1}{p}}))$. 
Then $X$ is a variety since $x^p - t$ is irreducible in $k[x]$. The product of $X$ and $Y$, on the other hand, can be described as
    \[
        X \times Y = \Spec(K[x]/(x^p - t)) = \Spec(K[x]/((x-t^{\frac{1}{p}})^p)
    \]
which is not reduced. We might adapt the definition to this case by changing the definition of the product to 
$[X][Y] \coloneqq [(X \times Y)_{\text{red}}]$, taking the induced reduced scheme structure on $X \times Y$, but since we are only working
in characteristic zero or over finite fields we will not bother with this technical issue.
\end{remark}

Since the product of varities is commutative up to isomorphism this is a commutative ring with 1 (equal to $[\Spec(k)]$). 
The cut and paste relation furthermore gives us
\[
    0 = [\emptyset] - [\emptyset] = [\emptyset \setminus \emptyset] = [\emptyset].
\]

\begin{example}
    \label{countMeasure}
    For a finite field $k$, consider the function \footnote{not bothering with any set-theoretic issues} 
    \begin{align*}
        \psi \colon \mathcal{V}_k & \to   \mathbb{Z}\\
        X & \mapsto |X(k)|
    \end{align*}
    that counts the rational points of a variety.
    Observe that $\psi$ has the following properties:
    \begin{enumerate}
        \item If $X$ and $Y$ are isomorphic $k$-varieties, then $\psi(X) = \psi(Y)$.
        \item If $Y \subset X$ is a closed subvariety, then $\psi(X \setminus Y) = \psi(X) - \psi(Y)$.
        \item If $X$ and $Y$ are two varieties, then $\psi(X \times Y) = \psi(X)\psi(Y)$.
    \end{enumerate}
    Hence $\psi$ factors over $\gring[k]$ and gives rise to a motivic measure which we will also denote by $\psi$.
\end{example}

\begin{example}
    \label{projSum}
    Using the decomposition $\mathbb{P}_k^n = \mathbb{P}_k^{n-1} \coprod \mathbb{A}_k^n$ where $\mathbb{P}_k^{n-1}$ is a hyperplane
    in $\mathbb{P}_k^n$  we get $[\mathbb{P}_k^n] = [\mathbb{P}_k^{n-1}] + [\mathbb{A}_k^n]$ in the Grothendieck ring.
    Inductively this yields the identity 
    \[
        [\mathbb{P}_k^n] = \sum_{m=0}^n \mathbb{L}^m.
    \]
    where we write $\mathbb{L}$ for the \emph{Lefschetz motive}, the isomorphism class of the affine line.
\end{example}

This calculation also gives rise to an example of two irreducible varieties that have the same equivalence class in $\gring[k]$ but are not
isomorphic: $\mathbb{P}_k^n \times (\mathbb{A}^1\setminus \{0\})$ and $\mathbb{A}^{n+1}$. These are not isomorphic since the global sections 
are $k[x]_{x}$ for the former and $k[x_1,\dots,x_{n+1}]$ for the latter. On the other hand, in the Grothendieck ring we get
\begin{align*}
    [\mathbb{P}_k^n \times \left (\mathbb{A}^1 \setminus \{0\}\right )] &= [\mathbb{P}_k^n]\left ([\mathbb{A}^1] - 1\right ) \\
                                                                      &= \sum_{m=0}^n \mathbb{L}^{m+1} - \sum_{m=0}^n \mathbb{L}^m \\
                                                                      &= \mathbb{L}^{n+1}.
\end{align*}

Another interesting source of examples are (Zariski) locally trivial fibrations.
\begin{definition}
    A morphism of schemes $f \colon X \to Y$ is called a (Zariski) locally trivial fibration with fibre $F$ if there exists an open cover of $Y$,
    $Y = \bigcup_{i} U_i$, such that $f^{-1}(U_i) \cong U_i \times F$ and $f|_{f^{-1}(U_i)} \colon f^{-1}(U_i) \cong U_i \times F \to U_i$ is
    the projection onto the first factor.
\end{definition}

\begin{lemma}
    \label{fibration}Let $X, Y$ and $F$ be varieties and
    let $f \colon X \to Y$ be a locally trivial fibration with fibre $F$, then in the Grothendieck ring of varieties
    one has $[X] = [Y][F]$.
\end{lemma}
\begin{proof}
    Suppose $Y = \bigcup_{i=1}^n U_i$, such that $f$ is trivial over $U_i$. Set $V_i = f^{-1}(U_i)$, by assumption we have $[V_i] = [U_i][F]$. 
    Let us argue by induction over n, so suppose we know that 
    $\left[ \bigcup_{i=1}^{n-1} V_i \right] = \left[\bigcup_{i=1}^{n-1} U_i \right][F]$, then
    \begin{align*}
        \left [ \bigcup_{i=1}^n V_i \right ]       
        &= \left [ \bigcup_{i=1}^{n-1} V_i \right ] + \left [ V_n \setminus (V_n \cap \bigcup_{i=1}^{n-1} U_i) \right ]
         = \left [ \bigcup_{i=1}^{n-1} U_i \right ][F] + [V_n] - \left [ V_n \cap \bigcup_{i=1}^{n-1} V_i \right ] \\
        &= \left [ \bigcup_{i=1}^{n-1} U_i \right ][F] + [U_n][F] - \left [ U_n \cap \bigcup_{i=1}^{n-1} U_i\right ][F]
         = \left [ \bigcup_{i=1}^n U_i \right ][F].
    \end{align*}
    Where the equation before last holds because $f$ locally looks like the projection so even after restricting to a smaller open set we still
    have the required properties and can invoke the induction hypothesis.
\end{proof}

\begin{example}
    \label{projBundle}
    Suppose $f \colon E \to X$ is a projective $n$-space bundle, then, by definition, $f$ locally trivializes to the projection
    $U_i \times \mathbb{P}_k^n \to U_i$ onto the first factor, so by the above theorem we have
    $[E] = [X][\mathbb{P}_k^n]$. We will use this when we consider the motivic Zeta function for curves.
\end{example}

We now investigate the structure of the Grothendieck ring. First we note that it suffices to take irreducible varieties to generate $\gring[k]$.
To see this, take a variety $X$ with irreducible componets $X_1, \dots, X_n$ and set ${U_i \coloneqq X_i \setminus \bigcup_{i \neq j} X_j}$ and
$U \coloneqq \bigcup_i U_i$. By construction, the last union is a disjoint union of closed subsets of $U$, 
and hence $[U] = \sum_i [U_i]$. Together this gives
\[
    [X] = [X \setminus U] + \sum_i [U_i].
\] Now, as open subsets of irreducible sets, the $U_i$ are irreducible and $[X \setminus U]$ has dimension
strictly smaller than the dimension of $X$ since we removed a proper open subset from each irreducible component. Hence we can inductively
rewrite $[X \setminus U]$, loosing at least one dimension in each step, with the base case of $\dim  X = 0$ being trivial, as $X$ is then
just a collection of points.

In characteristic zero we can use a weak form of Hironaka's Theorem on the resolution of singularites, namely that for every irreducible, 
projective variety $X$ there is a smooth, projective variety that is birational to $X$ to restrict the set of needed generators even more. 
This observation culminates in a structure theorem about the Grothendieck ring proven by Bittner in \cite{Bittner}.
%TODO: cite hironaka


\begin{theorem}[{\cite[Thm. 3.1]{Bittner}}]
    \label{bittner}
    Let $k$ be a field of characteristic zero. Then $\gring[k]$, as an abelian group, is generated by smooth, integral, complete varieties.
    Furthermore, if $k$ is algebraically closed, it suffices to consider relations of the form
    \[
        [X] - [f^{-1}(Z)] = [Y] - [Z],\ [\emptyset] = 0
    \]
    where $X$ and $Y$ are smooth complete varieties and $f \colon X \to Y$ is a morphism which is a blowup with a smooth center $Z \subset Y$. 
\end{theorem}
\begin{proof}
    We will only proof the first part of the statement, for a proof of the second part see \cite{Bittner}. As remarked before, we can restrict our
    attention to irreducible varietes.  We once again argue by induction on the dimension.
    Let $X$ be an irreducible variety of dimension $n$. By choosing some nonempty affine subvariety and passing to its projective closure we
    find $X'$ projective, irreducible and birational to $X$. Resolving singularities we find $\widetilde{X}$ smooth, projective, irreducible
    birational to $X$. Hence we find isomorphic open subset $U \subset X$, $V \subset \widetilde{X}$ which gives us
    \[
        [X \setminus U ] - [\widetilde{X} \setminus V] = [X] - [U] - [\widetilde{X}] + [V] = [X] - [\widetilde{X}].
    \]
    Thus $[X]$ can be written as the sum of $[\widetilde{X}]$ and some varieties of lower dimension for which we can invoke the induction
    hypothesis.
\end{proof}

We are going to use Theorem \ref{bittner} in the following form which we proved in the induction step.

\begin{corollary}
    \label{decomp}
    For each (irreducible) variety $X$ over a field of characteristic zero there exists a smooth, irreducible, projective variety $Y$ birational
    to $X$ such that $[X] = [Y] + \sum_i m_i[W_i]$ where the $[W_i]$ are smooth, irreducible, projective varieties of dimension strictly
    smaller than the dimension of $X$. \qed
\end{corollary}




\section{Symmetric Products and the Motivic Zeta Function}
\label{symProd}
We now want to introduce the concept of the symmetric product, i.e.\ how it can be defined as the quotient of the (regular) product by the
action of the symmetric group. This section follows the presentation in \cite[Appendix A]{mustata}\footnote{which is based on \cite[§7]{MumAV}}
and \cite[Lecture 10]{harris}.
%%TODO: Appendix -> App.? Lecture ->?
\begin{definition}
    Let $X$ be an $S$-scheme and $G$ a group acting on $X$ (from the right) 
    via $S$-automorphisms. Then a variety $Y$ together with a morphism $\pi \colon X \to Y$
    over $S$ is called the 
    \emph{categorial quotient} (also denoted by $X/G$) of $X$ by $G$ if $\pi$ is $G$-invariant which means that for all $g \in G$ we have
    $\pi \circ g = \pi$ and is universal in this respect, i.e.\ for every other $G$-invariant morphism $f \colon X \to Z$ there exists a unique
    $G$-invariant morphism $\tilde{f} \colon Z \to Y$that makes the following diagram commute
    \begin{equation*}
        \begin{tikzcd}
            X \arrow{r}{\pi} \arrow{d}{f} & X/G \\
            Z \arrow[dashleftarrow]{ur}{\tilde{f}}
        \end{tikzcd}.
    \end{equation*}
\end{definition}

\begin{remark}
    Since it is defined via an universal property, the quotient is unique up to unique isomorphism if it exists. 
    In contrast to other settings the scheme theoretic quotient does not always exist and can be quite subtle to construct.
    In the following we construct the quotient in the case that $G$ is finite and the scheme $X$ is a quasiprojective variety.
\end{remark}

We first construct the quotient in the affine case. If we were taking the quotient in the category of affine schemes things would be
quite simple: we could as well work in the category of rings and construct something that might be called a co-quotient, i.e.\ an object that
satisfies the conditions of the definition, just with all arrows reversed. This is simply the ring of $G$-invariants
$A^G \coloneqq \{a \in A | ga = a \ \forall g \in G\} \subset A$. Hence in the category of affine schemes the quotient would be given by 
$\Spec(A) \to \Spec(A^G)$. But since we would like to take quotients in the full category of schemes we have to do some more work.
First we slightly rephrase the definition for the case of schemes.
\begin{lemma}
    \label{quotProps}
    Let $\pi \colon X \to Y$ be a surjective morphism of schemes together with a group $G$ acting on $X$ via automorphism 
    such that the following conditions hold:
    \begin{enumerate}[label=\rm{\roman*)}]
        \item The fibres of $\pi$ are in one to one correspondence to the orbits of the $G$-action.
        \item $Y$ carries the quotient topology.
        \item There exists a unique isomorphism $\mathcal{O}_Y = {\pi_*\mathcal{O}_X}^G$
    \end{enumerate}
\end{lemma}
\begin{proof}
    The first two properties ensure that $\pi$ is a quotient of topological spaces, i.e.\ $\pi$ is a universally $G$-invariant continous map.
    By the discussion above, the third condition ensures that now actually all these morphisms are also morphism of locally ringed spaces.
\end{proof}

\begin{remark}
    \label{quotLocal}
    This shows that the quotient is in fact a local notion in the sense that if $U$ is an open subset of the quotient $X/G$ 
    then $\pi|_{\pi^{-1}(U)} \colon \pi^{-1}(U) \to U$ is the quotient of $\pi^{-1}(U)$ by the action of $G$.
\end{remark}

\begin{lemma}
    \label{quotAffine}
    Let $X = \Spec{A}$ be an affine variety with a finite group $G$ acting on it. Then the categorial quotient exists, is itself a variety and
    it is given by $X/G = \Spec(A^G)$, the spectrum of the $G$-invariant subring of $A$.
\end{lemma}
\begin{proof}(We follow the proof in \cite[Prop. A.1]{mustata})
    We first show that $\Spec(A^G)$ is again a variety. As a subring of a reduced $k$-algebra $A^G$ is again reduced, so what is left to check
    is that it is of finite type over $k$. Let $T_1,\dots,T_n$ be generators of $A$ as $k$-algebra. By passing to the union of the orbits of
    the $T_i$ we might assume that $G$ acts on the set of generators via permutations and hence can be seen as a subgroup of the 
    symmetric group $S_n$. Hence we get the following chain of ring inclusions: $k \subset A^{S_n} \subset A^G \subset A$. Now $A^{S_n}$ is
    generated by the elementary symmetric polynomials in the $T_i$ and hence is of finite type over $k$.
    It is now enough to show that $A$ is integral over $A^{S_n}$. Then $A$ is of finite type and integral over $A^{S_n}$ and hence
    finite. Since $A^{S_n}$ is noetheriean $A^G$, as a submodule of $A$, 
    is then again a finite module over $A^{S_n}$ hence of finite type over $k$.
    So let $a \in A$ then we find that $a$ is a zero of
    the polynomial
    \[
        \prod_{g \in S_n} (X - g(a))  \in A^{S_n}[X]
    \]
    hence it is integral over $A^{S_n}$ (and thus also over $A^G$).
    This proves that $\Spec(A^G)$ is again a variety. To show that it is also the quotient of $X$ by the action of $X$ we check the properties
    i) to iii) of \ref{quotProps}. Let us prove the first property.
    Since we have $g\mathfrak{p} \cap A^G$ = $\mathfrak{p} \cap A^G$ each orbit is contained in some fibre. For the converse assume that we have
    prime ideals $\mathfrak{p},\mathfrak{q} \subset A$ such that $\mathfrak{p} \cap A^G = \mathfrak{q} \cap A^G$.
    For $a \in \mathfrak{p}$ we have $\prod_{g \in G} ga \in \mathfrak{p} \cap A^G = \mathfrak{q} \cap A^G$, and since $\mathfrak{q} \cap A^G$
    is prime we find some $g \in G$ such that $ga \in \mathfrak{q} \cap A^G$ or equivalently 
    $a \in g^{-1}\mathfrak{q} \cap A^G \subset g^{-1}\mathfrak{q}$. Hence 
    we have $\mathfrak{p} \subset \bigcup_{g \in G} g\mathfrak{q}$ and can apply the prime avoidance lemma to find that $\mathfrak{p}$ had to be
    contained in some $g\mathfrak{q}$. Because the situation is symmetric in $\mathfrak{p}$ and $\mathfrak{q}$ we find $h \in G$ such that
    $\mathfrak{q} \subset h\mathfrak{p}$, hence $\mathfrak{p} \subset g\mathfrak{q} \subset hg\mathfrak{p}$. Now we use the fact that
    for a integral extension two prime ideals with the same contraction, one subset of the other, must be equal. Applied to this
    situation and again using that $\mathfrak{p} \cap A^G = hg\mathfrak{p} \cap A^G$ we obtain $hg\mathfrak{p} = \mathfrak{p}$ and by the same
    argument finally $\mathfrak{p} = g\mathfrak{q}$. Hence we have shown that fibres and orbits coincide. Furthermore this shows that $\pi$ is
    surjective and finite, hence $\Spec(A^G)$ carries the quotient topology.
    For the last property we note that the action of $G$ extends to an action on $A_f$ for some $f \in A^G$ and we have 
    $A^G_f = (A_f)^G$ for some $f \in A^G$ since $\frac{a}{f^n} = \frac{ga}{f^n}$ if and only if $a = ga$. This means that the natural
    map $A^G_f = \mathcal{O}_{\Spec(A^G)}(D(f)) \to \pi_*\mathcal{O}_{\Spec(A)}(D(f))^G = (A_f)^G$ is an isomorphism, and since the $D(f)$ form
    a basis of the topology on $\Spec(A)$ we have proven property iii).
\end{proof}

\begin{remark}
    Using the same reasoning as above we can conclude that if $X = \Proj(B)$ for some finite type graded $k$-algebra $B$, 
    and the action of $G$ on $X$ comes from
    an action of $G$ on $B$ via automorphisms of graded $k$-algebras, then we may construct the quotient directly as $X/G = \Proj(B^G)$.
\end{remark}

We now turn to a relevant special case: the quotient of a quasiprojective variety $X$ by the action of a finite group $G$, using the following
general result.

\begin{lemma}[{\cite[Prop. 1.8]{SGA1}}]    
    Let $X$ be a scheme with a finite group $G$ acting on it via automorphisms. If there exists an open cover by $G$-invariant affine sets
    then the quotient $X/G$ exists.
    We call such an action \emph{admissible}
\end{lemma}
\begin{proof}
    Say $X$ is covered by the $G$-invariants affine sets $U_1,\dots,U_i$ for which we may construct the quotient $\pi_i \colon U_i \to U_i/G$ 
    as by the previous lemma. Now we would like to glue these. This is possible since by Remark \ref{quotLocal} 
$\pi_i \colon U_i \cap U_j \to \pi_i(U_i \cap U_j)$ and $\pi_j \colon U_i \cap U_j \to \pi_j(U_i \cap U_j)$ are both quotients of $U_i \cap U_j$
    by $G$ and therefore naturally isomorphic. Since we may check the conditions of Lemma \ref{quotProps} locally, gluing gives a quotient of 
    $X$ by $G$.
\end{proof}

\begin{corollary}
    If $X$ is a quasiprojective variety, then the quotient by the action of a finite group always exists and is itself a variety.
\end{corollary}
\begin{proof}
    Let $X \subset \mathbb{P}_k^n$ be locally closed with a finite group $G = \{g_1,\cdots,g_m\}$ acting on it. 
    Consider the orbit $\{g_1(x),\cdots,g_m(x)\} \subset X$ of a point $x \in X$, and denote by $\mathfrak{p}_1,\cdots,\mathfrak{p}_m$ the 
    graded prime ideals corresponding to $\overline{\{x\}}$, and by $\mathfrak{q}$ the graded prime ideal corresponding to
    $\overline{X} \setminus X$ (taken to be the irrelevant ideal if this set is empty). 
    Hence the ideal $\mathfrak{q}$ is not contained in any of the $\mathfrak{p}_i$s hence, by the graded version of the prime
    avoidance lemma, we find an element with positive degree $y \in \mathfrak{q}$ that is contained in none of the $\mathfrak{p}_i$ and hence
    the hypersurface $V_+(y)$ contains $\bar{X} \setminus X$ but not the $g_1(x),\cdots,g_m(x)$, so $U \coloneqq D_+(y)$ 
    is an affine set that lies in $X$ and contains the orbit of $x$ under $G$. Now consider $U' \coloneqq \bigcap_{g \in G} g(U)$. 
    This is clearly $G$-invariant and affine since $X$ is separated. 
    Since $U$ contains the orbit of $x$ we still find that $x$ lies in $U'$. Hence we have found a open cover of X by
    $G$-invariant open affines, and thus the quotient exists by the above lemma.
\end{proof}

\begin{definition}
    \label{symdef}
    Let $X$ be a quasiprojective variety. Then the $n$-fold \emph{symmetric product} $\Sym^n(X)$ is defined as the quotient of $X^n$
    (which is again quasiprojective via the Segre embedding) by the natural action of the symmetric group in $n$ letters.
\end{definition}

\begin{example}
    By Lemma \ref{quotAffine} we have 
    \[
        Sym^n(\mathbb{A}^1) = \mathbb{A}^n/S_n = \Spec(k[x_1,\dots,x_n]^{S_n}).
    \]
    Here $S_n$ acts on the
    polynomial ring by permuting the $x_i$. As remarked above, by the fundamental theorem of elementary symmetric polynomials the subring
    of symmetric polynomials is generated as an algebra by the elementary symmetric polynomials and these are algebraically independent, hence
    $Sym^n(\mathbb{A}^1) \cong \mathbb{A}^n$.
\end{example}

\begin{example}
    The symmetric product of a variety $X$ need not be smooth even though $X$ is smooth. 
    Indeed, consider $\Sym^2(\mathbb{A}_k^2) = \Sym^2(\Spec(k[x,y]))$. Suppose $char k \neq 2$.
    Then $S_2$ acts on $k[x_1,y_1,x_2,y_2]$ by exchanging $x_1$ with $x_2$ and $y_1$ with $y_2$. By a change of coordinates
    to $T_1 = x_1 + x_2$, $T_2 = y_1 + y_2$, $T_3 = x_1 - x_2$, $T_4 = y_1 - y_2$ (here we use that the characteristic is not 2),
    $S_2$ acts on $k[T_1,T_2,T_3,T_4]$ as the identity on the first two variables while the last two are sent to their negation.
    Hence the invariant ring consists of polynomials which, as polynomials in $k[T_1,T_2][T_3,T_4] \eqqcolon A[T_3,T_4]$ have even degree.
    So the invariant ring is generated by $T_3^2$, $T_3T_4$ and $T_4^2$ and we claim that the kernel of the map
    \begin{gather*}
        \pi \colon A[u,v,w] \to A[T_1,T_2]^{S_2}\\
        u \mapsto T_3^2,\ 
        v \mapsto T_4^2,\ 
        w \mapsto T_3T_4
    \end{gather*}
    is given by $(uv - w^2)$. Clearly $uv - w^2$ is in the kernel, so suppose $f \in \mathrm{ker}(\pi)$. 
    Polynomial division in $A[u,v][w]$ yields
    $f = g(uv - w^2) + r$. Since $r$ is of strictly smaller degree than $uv - w^2$ it is of the form $r = wh + h'$, $h, h' \in A[u,v]$.
    Thus $0 = \pi(r) = \pi(wh + h') = T_3T_4\pi(h) + \pi(h')$. 
    Note that $\pi(h)$ and $\pi(h')$ are polynomials in $T_3^2$ and $T_4^2$ so the degree in $T_3$ and $T_4$ is odd for 
    $T_3T_4\pi(h)$ and even for $\pi(h')$,
    hence equality can only hold if $h = h' = 0$. Thus $r$ has to be zero and $f$ lies in $(uv - w^2)$.
    Putting it all togheter, $Sym^2(\mathbb{A}^2) \cong k[x_1,x_2,x_3,x_4,x_5]/(x_3x_4 - x_5^2)$. This is the product of the affine plane with
    a cone which is singular in the origin by the Jacobi
    criterion.

%    The action on $\mathbb{A}^4$ is given by exchanging points, so we may see this as linear action by the subgroup of $GL_n$ generated
%    by
%    \[
%    \begin{pmatrix}
%        0 & 0 & 1 & 0\\
%        0 & 0 & 0 & 1\\
%        1 & 0 & 0 & 0\\
%        0 & 1 & 0 & 0\\
%    \end{pmatrix}
%    \]
%    By changing the basis to
%    \[
%        \begin{pmatrix} 1\\ 0\\ 1\\ 0 \end{pmatrix},
%        \begin{pmatrix} 0\\ 1\\ 0\\ 0 \end{pmatrix},
%        \begin{pmatrix} 1\\ 0\\ -1\\ 0 \end{pmatrix},
%        \begin{pmatrix} 0\\ 1\\ 0 \\ -1\end{pmatrix}
%    \]
%    $S_2$ acts on the first two basis vectors as the identity and the last two are sent to the negative of themselves. Hence we can decompose
%    up $k^4$ in two $S_2$ invariant subspaces and all is left is to figure out what the quotient of $\mathbb{A}^2$ by the action
%    $\mathbb{A}^2 \to \mathbb{A}^2,\ (a,b) \mapsto (-a,-b)$ is. The action on the coordinate ring is given by $x \mapsto -x, \ y \mapsto \-y$.
%    The polynomials invariant under this action are the polynomials which only have monomials with even degree.
%    vSo the invariant ring is generated by $x^2$, $xy$ and $y^2$ and we claim that the kernel of the map
%    \begin{gather*}
%        \pi \colon k[u,v,w] \to k[x,y]^{S_2}\\
%        u \mapsto x^2,\ 
%        v \mapsto y^2,\ 
%        w \mapsto xy
%    \end{gather*}
%    is given by $(uv - w^2)$. Clearly $uv - w^2$ is in the kernel, so suppose $f \in \mathrm{ker}(\pi)$. 
%    Polynomial division in $k[u,v][w]$ yields
%    $f = g(uv - w^2) + r$, since $r$ is of strictly smaller degree than $uv - w^2$ it is of the form $r = wh + h'$, $h, h' \in k[u,v]$.
%    Thus $0 = \pi(r) = \pi(wh + h') = xy\pi(h) + \pi(h')$. 
%    Note that $\pi(h)$ and $\pi(h')$ are polynomials in $x^2$ and $y^2$ so the degree in $x$ and $y$ is odd for $xy\pi(h)$ and even for $\pi(h')$,
%    hence equality can only hold if $h = h' = 0$. Thus $r$ has to be zero and $f$ lies in $(uv - w^2)$.
%    Putting it all togheter, $Sym^2(\mathbb{A}^2) \cong k[x_1,x_2,x_3,x_4,x_5]/(x_3x_4 - x_5^2)$. This is singular in the origin by the Jacobi
%    criterion.
\end{example}

\begin{example}
    $\Sym^n(\mathbb{P}_k^1) = \mathbb{P}_k^n$. We describe this isomorphism on closed points for the case that $k$ is algebraically closed.
    First we identify $\mathbb{P}_k^n$ with $\mathbb{P}(k[X,Y]_n)$, the projectivization of the $n+1$ dimensional vector space of
    homogenous polynomials of degree n. Then consider the map
    \begin{align*}
        (\mathbb{P}_k^1)^n &\to \mathbb{P}(k[X,Y]_n)\\
        ([a_{1,1}:a_{2,1}],\dots,[a_{1,n},a_{2,n}]) &\mapsto [(a_{1,1}X + a_{2,1}Y)\dots(a_{1,n}X + a_{2,n}Y)]
    \end{align*}
    This is well defined, since if we rescale one of the $[a_{1,i},a_{2,i}]$ by some scalar we rescale the polynomial on the right hand side
    by the same scalar which does not change its equivalence class in the projectivization.
    This also factors over the symmetric product since multiplication is commutative, hence we obtain a induced map
    $\varphi \colon Sym^n(\mathbb{P}_k^1) \to \mathbb{P}(k[X,Y]_n)$. 
    We claim that $\varphi$ is an isomorphism. First we show that this is a regular map.
    For this define the \emph{elementary homogenous polynomials} in $x_{1,1},x_{2,1},\dots,x_{1,n},x_{2,n}$ as the coefficients of the polynomial
    $\prod (x_{1,i}X+ x_{2,i}Y)$. Let us denote the coefficient of $X^iY^j$ by $p_{i,j}$.
    When we now choose the monomials as a basis of $k[X,Y]_n$, thus fixing an isomorphism $\mathbb{P}(k[X,Y]_n) \cong \mathbb{P}_k^n$
    $\varphi$ is given as
    \begin{align*}
        \varphi \colon \Sym^n(\mathbb{P}_k^1) &\to \mathbb{P}(k[X,Y])_n \cong \mathbb{P}_k^n\\
        [a_{1,1}:a_{2,1}],\dots,[a_{1,n}:a_{2,1}] &\mapsto [p_{0,n}(a_{1,1},\dots, a_{2,n}),\dots,p_{n,0}(a_{1,1},\dots, a_{2,n})].
    \end{align*}
    Hence it is a regular map.
    For bijectivity note that because $k$ is algebraically closed every nonzero homogenous polynomial of degree $n$ factors uniquely (up to
    units) in linear homogenous polynomials.
    Indeed if $f = \sum_{i=0}^n a_iX^iY^{n-i}$ we may write this as
    \[
        f = Y^n \sum_{i=0}^n a_i\left(\frac{X}{Y}\right)^i.
    \]
    And since $k$ is algebraically closed, the second factor, seen as polynomial in $\frac{X}{Y}$, factors into linear polynomials.
        %Let us first recall some facts about the product of projective varieties. If $X = Proj(B)$ for some graded $k$-algebra of finite type,
    %then $X^n = Proj(\bigoplus_{d \ge 0} \bigotimes_{i = 0}^n B_d$. The action of 
\end{example}

We are now able to define the motivic zeta function.

\begin{definition}
    Let $\mu \colon \gring \to A$ be a motivic measure and $X$ a quasiprojective variety. Then we define the \emph{motivic zeta function} 
    $\zeta_{\mu}(X,t) \in A[[t]]$ as
    \[
        \zeta_{\mu}(X,t) \coloneqq \sum_{n=0}^\infty \mu([\Sym^n(X)])t^n.
    \]
\end{definition}

\begin{example}
    We can now compute a first zeta function, namely $\zeta_{id}(\mathbb{P}_k^1, t)$. Using the identity and notation from example \ref{projSum}
    we calculate
    \begin{align*}
        \zeta_{id}(\mathbb{P}_k^1, t) & = \sum_{n=0}^\infty \left[\Sym^n({\mathbb{P}_k^1})\right]t^n 
                                       = \sum_{n=0}^\infty \left(\sum_{k=0}^n \mathbb{L}^k\right) t^n \\
                                       & = \sum_{n=0}^\infty \sum_{k=0}^n \left(\mathbb{L}t\right)^k t^{n-k} \\
                                      & = \left( \sum_{n=0}^\infty t^n \right) \left( \sum_{n=0}^\infty (\mathbb{L}t)^n \right) 
                                        = \frac{1}{(1-t)(1-\mathbb{L}t)} .
    \end{align*}
    Hence $\zeta_{id}(\mathbb{P}_k^1, t)$ is in fact a rational function.
\end{example}

%\textbf{The following is HIGHLY EXPERIMENTAL}

After discussing the genus zero case, we now sketch the picture for arbitrary smooth projective curves. 
For simplicity we will assume that our ground field $k$ is algebraically closed, but
this works in general whenever the curve in question has a rational point. 
So let $C$ be a smooth projective connected curve of genus $g > 0$ with a distinguished (rational) point $P \in C$.

There is a deep result that describes the symmetric product of a curve as a projective bundle over the so called Picard variety. We will
not introduce it here in full generality. The idea is that the we can give the Picard group of a variety a natural group scheme structure,
such that we have a bijection between the closed points of the Picard variety and the classical
Picard group. 

\begin{theorem}%TODO: explain what Pic^0(X) is as a variety!!!
    Let $n$ be greater than $2g-2$, then the map  
    \begin{align*}
        Sym^n(C) &\to Pic^0(X) \\
        [x_1,\dots,x_n] &\mapsto \mathcal{L}(x_1 + \dots + x_n - nP)
    \end{align*}
    Is a projective $n-g$-space bundle.
\end{theorem}
\begin{proof}[Idea of proof]
    We only sketch the idea, for a complete proof and a rigourous introduction of the employed concepts see \cite{schwarzenberger1963}
    and \cite[Chap. III.5]{milneAV} (especially Remark 5.6).
    The fibre over some $\mathcal{L}(D - nP)$, for $D = \sum x_i$ is the complete linear system $|D| = \mathbb{P}(H^0(C, \mathcal{L}(D)))$.
    As usual, denote by $l(D)$ the dimension of the global sections of $\mathcal{L}(D)$, then Riemann-Roch tells us 
    that $l(D) - l(K-D) = deg(D) - g + 1 = n - g + 1$, but since $deg(K) = 2g-2$, for $n > 2g-2$ we find $l(K-D) = 0$, and hence
    $l(D) = n-g+1$, so the fibre is indeed isomorphic to $\mathbb{P}_k^{n-g}$. It of course remains to show that the morphism does in
    fact locally look like the projection of $Pic^0(X) \times \mathbb{P}_k^{n-g}$ onto the first factor.
\end{proof}

Using this in conjunction with Lemma \ref{fibration} we can obtain a nice closed form for the zeta function of an elliptic curve.
Recall that an elliptic curve is a smooth projective connected curve $E$ of genus $1$ with a distinguished rational point $P \in E$, the
map $E \to Pic^0(E), x \mapsto \mathcal{L}(x-P)$ is then an isomorphism. By the above theorem the map $Sym^n(E) \to Pic^0(X)$ is a projective $n-g$-space
bundle for
$n > 2g - 2 = 0$. 
Thus by Lemma \ref{fibration} in the Grothendieck ring we have for $n>0$ 
\begin{equation}
    [Sym^n(E)] = [Pic^0(E)][\mathbb{P}_k^{n-1}] = [E][\mathbb{P}_k^{n-1}].
\end{equation}
Hence we calculate
\begin{align*}
    \zeta_{\mathrm{id}}(E,t) &= \sum_{n=0}^{\infty} [Sym^n(E)] = 1 + \sum_{n=1}^\infty [E][\mathbb{P}_k^{n-1}]t^n \\
                             &= 1 + [E]t \sum_{n=1}[\mathbb{P}_k^{n-1}]t^{n-1} = 1 + [E]t \zeta_{\mathrm{id}}(\mathbb{P}_k^1, t)\\
                             &= 1 + \frac{[E]t}{(1-t)(1-\mathbb{L}t)} = \frac{1 + ([E]-[\mathbb{P}_k^1])t + \mathbb{L}t^2}{(1-t)(1-\mathbb{L}t)}.
\end{align*}

In the general case of positive genus we still get
\begin{align*}
    \zeta_{\mathrm{id}}(C,t) &= \sum_{n=0}^{2g-2} [Sym^n(C)]t^n + \sum_{n=2g-1}^\infty [Pic^0(C)][\mathbb{P}_k^{n-1}]t^n\\
    &= \sum_{n=0}^{2g-2} [Sym^n(C)]t^n + [Pic^0(C)]t(\zeta_{\mathrm{id}}(\mathbb{P}_k^1, t) - \sum_{n=0}^{2g-1} \mathbb{P}_k^nt^n).
\end{align*}
And thus we have shown that $\zeta_{\mathrm{id}}(C,t)$ is a rational function.

Before we move on to investigate rationality in dimension two, we return briefly to the Hasse--Weil zeta function and explain that the 
motivic zeta function is in fact a generalization of the former.
Recall that the classical zeta function is defined for a variety $X$ over a finite field $k = \mathbb{F}_q$ as 
$Z(X,T) = \exp\left(\sum_{m=1}^\infty \frac{|X(\mathbb{F}_{q^m})|}{m}t^m\right)$. We would like to rewrite this in terms of effective zero cycles.
\begin{definition}
    Let $X$ be a variety. A zero cycle on $X$ is a formal sum $\alpha = \sum_{x \in X_\mathrm{cl}} n_x x$, where the $n_x$ are integers,
    only finitely many non zero. We denote the group of zero cycles on $X$ as $Z_0(X)$. A zero cycle $\alpha$ is called
    \emph{effective} if all the $n_x$ are nonnegative. We define the \emph{degree} of a cycle $\alpha$ as 
    $\deg(\alpha) \coloneqq \sum_{x \in X_{\mathrm{cl}}} n_x [\kappa(x):k]$.
\end{definition}

Recall that for the number of $\mathbb{F}_{q^m}$ rational points we have
$|X(\mathbb{F}_{q^n})| = \sum_{e | n} e|\{x \in X_{\mathrm{cl}} | \deg(x) = e\}|$. We write $c_e$ for the number of closed points with degree $e$.

Now we calculate
\[
\log(Z(X,t)) = \sum_{m=1}^\infty \frac{\sum_{e | m} ec_e}{n} t^n.
\]

Making a the substitution $n = er$ and using $\log(1-t) = - \sum_{m=1}^\infty \frac{t^m}{m}$ we get 
\begin{align*}
    \log(Z(X,t)) &= \sum_{r=1}^\infty \sum_{e=1}^\infty c_e \frac{t^{er}}{r} = \sum_{e=1}^\infty c_e \log(1-t^e) \\
                 &= \sum_{e=1}^\infty \log ( (1-t^e)^{c_e} ) = \log(\prod_{e=1}^\infty (1-t^e)^{c_e}).
\end{align*}
So after taking the exponential of both sides, we find that
\begin{align*}
    Z(X,t) &= \prod_{e=1} (1-t^e)^{c_e} = \prod_{x \in X_{\mathrm{cl}}} (1-t^{\deg(x)})^{-1}\\
           &= \prod_{x \in X_{\mathrm{cl}}} \sum_{k=0}^\infty t^{\deg(x)k} = \sum_{\alpha \in Z_0(X)} t^{\deg(\alpha)}.
\end{align*}
Where we find the last equality by multiplying out. This also shows that $Z(X,t)$ is in fact a power series with integer coefficients, which
was not clear from the definition.
So to show that $Z(X,t) = \zeta_{\psi}(X,T)$ 
(where $\psi$ is the motivic measure counting rational points that was introduced in Example \ref{countMeasure}) 
it suffices to show the following lemma.

\begin{lemma}
    Let $X$ be a variety over a finite field $k$. Then the number of $k$-rational points of the $n$-fold symmetric product agrees
    with the number of effective zero cycles on X of degree $n$.
\end{lemma}
\begin{proof}
    This is clear in the case that $k$ is algebraically closed, since then the degree of a closed point is one, so taking formal sums of
    a given degree $n$ is the same as giving $n$ (not necessarily distinct) points not caring about the order.
    We would like to reduce to this case. TODO: do this.
\end{proof}

\section{Constructing Motivic Measures}
\label{const}
We will now construct the measure $\mu_h$ of Theorem \ref{irrational}.

The first important result on the way is a lemma that helps us to construct such measures by extending maps from the monoid of smooth, irreducible
and complete varieties. For this we quickly recall the notion of a monoid ring.

\begin{definition}
    Let $G$ be a (multiplicative) monoid. Write $\mathbb{Z}[G]$ for the free abelian group over $G$, i.e.\ the set of formal sums
    $\sum_{g \in G} n_g g$ with the $n_g$ being integers, only finitely many nonzero.
    Defining multiplication as
    \[
        \Big(\sum_{g \in G} n_g g\Big)\Big(\sum_{g \in G} m_g g \Big) = \sum_{g \in G} \Big(\sum_{hl = g} n_h m_l\Big) g
    \]
    this forms a ring, the \emph{monoid ring} over $G$.
\end{definition}

\begin{remark}
    By \cite[Prop. 10.1 (d)]{Ha} the product of two smooth varieties over $k$ is again smooth. Hence the isomorphism classes of smooth
    irreducible complete varieties form a multiplicative monoid, in the following denoted by $\mathcal{M}$.
\end{remark}

\begin{theorem}
    \label{th1}
    Set $k = \mathbb{C}$. Let $G$ be an abelian monoid and $\mathbb{Z}[G]$ the corresponding monoid ring. As above, denote
    by $\mathcal{M}$ the multiplicative monoid of irreducible smooth complete varieties. Let
    \[
        \psi \colon \mathcal{M} \to G
    \]
    be a homomorphism of monoids such that
    \begin{enumerate}[label=\rm{\roman*)}]
        \item $\psi([X]) = \psi([Y])$ if $X$ and $Y$ are birational;
        \item $\psi([\mathbb{P}^n]) = 1$ for all $n \ge 0$.
    \end{enumerate}
    Then $\psi$ can be uniquely extended to a ring homomorphism 
    \[
        \phi \colon \gring[\mathbb{C}] \to \mathbb{Z} [G]
    \]
\end{theorem}
%XXX: why is \phi multiplicative?
\begin{proof}
    By Theorem \ref{bittner} we know that the Grothendieck ring (as an abelian group) is generated by $\mathcal{M}$, so after extending $\psi$ to
    the free abelian group over $\mathcal{M}$ 
    we have to check that $\psi$ preserves the relations of the blowup presentation of $\gring[\mathbb{C}]$ and hence factors over it,
    i.e.\ given a blow-up $f \colon X \to Y$ with smooth center $Z \subset X$ then $\psi([X]) - \psi([f^{-1}(Z)]) = \psi([Y]) - \psi([Z])$. 
    Note that $[X]$ and $[Y]$ are birational, since $f$ is a blowup, thus $\psi([X]) = \psi([Y])$ by property i).
    
    Now, since $X$ and $Z$ are nonsingular, the exceptional divisor $f^{-1}(Z)$ is isomorphic to 
    the projective space bundle  $\mathbb{P}(\mathcal{I}/\mathcal{I}^2)$ 
    where $\mathcal{I}$ is the ideal sheaf associated to $Z$ (see for example \cite[II.8, Thm 8.24]{Ha}),
    which is a $\mathbb{P}^n$-bundle, i.e.\ locally trivializes to $\mathbb{P}_k^n \times Z$
    and hence is birational to $\mathbb{P}_k^n \times Z$. 
    We can thus write $\psi([f^{-1}(Z)])$ as  
    \[
        \psi([f^{-1}(Z)]) = \psi([Z \times \mathbb{P}_k^n]) = \psi([Z][\mathbb{P}_k^n]) = \psi([Z])\psi([\mathbb{P}_k^n]) = \psi([Z])
    \]
    where the last equation holds because of property ii).
    Hence, we can extend $\psi$ to define a morphism $\phi \colon \gring[\mathbb{C}] \to \mathbb{Z} [G]$
\end{proof}

Before constructing a suitable monoid homomorphism that will yield our desired measure, we recall the definition of the Hodge numbers
of a variety as well as two basic results.

\begin{definition}
    Let $X$ be a smooth projective variety. The \emph{Hodge number} $h^{p,q}$ is given as the dimension of $H^q(X,\Omega^p_X)$, 
    which is a finite dimensional $k$-vector space by a theorem of Serre (\cite[§3 Prop. 7]{FAC}).
    If $d$ is the dimension of a nonsingular variety $X$ we will also write $P_g(X)$ for $h^{d,0}(X)$, called the \emph{geometric genus} of $X$.
\end{definition}


\begin{lemma}[{\cite[II Ex. 8.8]{Ha}}]
    \label{bir}
    The Hodge numbers $h^{p,0}$ are birational invariants of a variety: let $X, Y$ be birationally equivalent, smooth, projective varieties
    then $h^{p,0}(X) = h^{p,0}(Y)$.
\end{lemma}

Let us compute the hodge numbers of the projective space over a field as an example.
We need the following general lemma.

\begin{lemma}
    \label{ses}
    Let 
    \[
        0 \to \mathcal{F}' \to \mathcal{F} \to \mathcal{F}'' \to 0
    \]
    be a short exact sequence of locally free sheaves of finite rank and assume furthermore that $\mathcal{F}''$ is of rank one.
    Then for any $p \ge 1$ the sequence
    \[
        0 \to {\bigwedge}^p \mathcal{F}' \to {\bigwedge}^p \mathcal{F} \to {\bigwedge}^{p-1} \mathcal{F}' \otimes \mathcal{F}'' \to 0
    \]
    is exact.
\end{lemma}
\begin{proof}
    TODO: find citeable source or a (short) proof.
\end{proof}

\begin{lemma}
    The Hodge numbers of projective space are given as
    \[
        h^{p,q}(\mathbb{P}_k^n) = 
        \begin{cases}
            1 \text{, if $p = q \leq n$}\\
            0 \text{, else}
        \end{cases}
    \]
\end{lemma}
\begin{proof}
    We argue by induction on $p$. 
    For $p = 0$ this is the cohomology of the structure sheaf on projective space for which we have the claimed dimensions.
    For the induction step recall that we have the Euler exact sequence 
    \[0 \to \Omega_{\mathbb{P}_k^n} \to {\mathcal{O}_{\mathbb{P}_k^n}(-1)}^{\oplus n+1} \to \mathcal{O}_{\mathbb{P}_k^n} \to 0 .\]
    Since all these sheaves are locally free of finite rank we may apply Lemma \ref{ses} to this sequence to obtain
    \[
        0 \to \Omega_{\mathbb{P}_k^n}^p \to {\mathcal{O}(-p-1)}^{\oplus \binom{n}{p+1}} \to \Omega_{\mathbb{P}_k^n}^{p-1} \to 0
    \]
    This yields a long exact sequence in homology. Now, since $H^i(\mathbb{P}_k^n, \mathcal{O}(-p)) = 0$ for $0 < i < p+1$ these all vanish.
    By induction hypothesis only $H^{p-1}(\mathbb{P}_k^n, \Omega^{p-1})$ does not vanish, so it must be isomorphic to 
    $H^{p}(\mathbb{P}_k^n, \Omega^p)$. This proves the lemma.
\end{proof}
\begin{lemma}[Chow, {\cite[II Ex. 4.10]{Ha}}]
    Every proper variety is birational to a projective variety.
\end{lemma}


\begin{definition}
    Denote by $C \subset \mathbb{Z}[t]$ the multiplicative monoid of polynomials with positive leading coefficient.
    For a smooth projective complex variety $Z$ of dimension $d$ define
    \[
        \Psi_h(X) \coloneqq1 + h^{1,0}(X)t + \cdots + h^{d,0}(X)t^d \in C.
    \]
    (Note that the Hodge numbers might be zero, but $\Psi_h(X)$ still has a positive leading coefficient, 
    just its degree might be smaller than the dimension of $X$)
    By Chow's lemma we can also define $\Psi_h$ for a smooth complete variety $Z$ by choosing a smooth projective variety $X$ which is birational
    to $Z$ and setting $\Psi_h(Z) \coloneqq \Psi_h(X)$. This is well defined by Lemma \ref{bir}.
\end{definition}

We now check that $\Psi_h$ satisfies all conditions of Theorem \ref{th1}. Independence of birational equivalence class was the content of lemma
\ref{bir}, and we have $\Psi_h(\mathbb{P}_k^n) = 1$ because of our previous calculations of the Hodge number of projective space.

To check multiplicativity, we use the following lemma.

\begin{lemma}
    Let $X,Y$ be smooth, irreducible, projective $k$-varieties. Then the following equality holds:
    \[
        h^{p,0}(X \times_k Y) = \sum_{i+j=p} h^{i,0}(X)h^{j,0}(Y)
    \]
\end{lemma}
\begin{proof}
    Note that we have 
    \begin{align*}
        \Omega_{X \times Y / k}^p & \cong {\bigwedge}^p(\pi_X^*\Omega_{X/k} \oplus \pi_Y^* \Omega_{Y/k}) 
                                    \cong \bigoplus_{i+j = p} {\bigwedge}^i(\pi_X^*\Omega_X)  \otimes {\bigwedge}^j(\pi_Y^*\Omega_Y)\\
                                  & \cong \bigoplus_{i+j = p} \pi_X^*\Omega^i_X \otimes \pi_Y^*\Omega^j_Y.
    \end{align*}
    Taking global sections yields
    \begin{align*}
        H^0(X \times Y, \Omega_{X \times Y}^p) &\cong H^0(X \times Y, \bigoplus_{i+j = p} \pi_X^*\Omega^i_X \otimes \pi_Y^*\Omega^j_Y)\\
        &\cong \bigoplus_{i+j = p} H^0(X \times Y, \pi_X^*\Omega^i_X \otimes \pi_Y^*\Omega^j_Y) \\
        & \cong \bigoplus_{i+j = p} H^0(X, \Omega^i_X) \otimes H^0(Y, \Omega^j_Y).
    \end{align*}
    Now the lemma follows by taking the dimension of both sides.
\end{proof}
%TODO: mention that this can be seen as a special case of the künneth theorem
With this we directly calculate 
\begin{align*}
    \Psi_h(X)\Psi_h(Y) &= \left( \sum_n h^{n,0}(X)t^n \right) \left( \sum_n h^{n,0}(Y)t^n \right)  
    = \sum_n \left( \sum_{i+j=n} h^{i,0}(X) h^{j,0}(Y) \right )t^n \\ &= \sum_n h^{n,0}(X \times_k Y)t^n = \Psi_h(X \times_k Y)
\end{align*}


\section{Irrationality of the Motivic Zeta Function}
\label{final}
The constructed motivic measure does not yet take values in a field, so we would like to pass to the quotient field of $\mathbb{Z}[\mathcal{M}]$.
That we are able to do so is the content of the next lemma.

\begin{lemma}
    Let $A$ be a factorial ring, and $S \subset A$ a multiplicative submonoid such that $1$ is the only unit in $S$. Then the monoid ring
    $\mathbb{Z}[S]$ is a polynomial ring (in possibly infinitely many variables), and hence an integral domain.
\end{lemma}
\begin{proof}
    Since $A$ is factorial, every $s \in S$ has a unique factorization, and since 1 is the only unit in $S$, 
    $s$ can be uniquely written as product of prime elements, hence if we take $B$ to be the polynomial ring over the formal
    variables $\{x_s | s \in S, s\ \text{prime}\}$ we get an isomorphism of rings
    \[
        B \to \mathbb{Z}[S], \ x_s \mapsto s.
    \]
\end{proof}

\begin{definition}
    Denote by $\mathcal{H}$ the quotient field of $\mathbb{Z}[C]$ where, as above, $C$ denotes the submonoid of $\mathbb{Z}[t]$ 
    consisting of polynomials with positive leading coefficients. Since $-1$ is not contained in $C$ it satisfies the conditions of the
    previous lemma.
    We define the motivic measure $\mu_h \colon \gring \to \mathcal{H}$ as the measure obtained extending $\Psi_h$ as by Theorem \ref{th1}
\end{definition}

\begin{lemma}
    \label{same}
    Let $Y_1,\dots,Y_s,Z$ be irreducible varieties of dimension d over a field of characteristic zero 
    such that $\mu_h([Z]) = \sum_i n_i \mu_h([Y_i])$ for some $n_i \in \mathbb{Z}$ and $P_g(Z) \neq 0$ then $P_g(Z) = P_g(Y_i)$ for some $i$
\end{lemma}
\begin{proof}
    By Corollary \ref{decomp}, we find smooth, irreducible projective varieties $\overline{Z},\overline{Y_1},\cdots, \overline{Y_s}$ in the same
    birational class as the original varieties allowing us to rewrite the original equality as 
    \[
        \mu_h([\overline{Z}]) = \sum n_i\mu_h([\overline{Y}_i]) + \sum l_i \mu_h([X_i]),
    \]
    where the $X_i$ are smooth irreducible varieties of dimension $<d$.
    Now, since $\mu_h$ was obtained as an extension of $\Psi_h$ which was defined on smooth, irreducible, projective varieties, this is
    actually an equation in $\mathbb{Z}[C]$, namely
    \[
        \Psi_h(\overline{Z}) = \sum n_i \Psi_h(\overline{Y}_i) + \sum l_i\Psi_h(X_i).
    \]
    Since there are no (additive) relations between elements of $C$ in the monoid ring, one of the polynomials $\Psi_h(\dots)$ on the 
    right hand side must be the polynomial on the left hand side, but with the dimension of 
    $X_i$ being strictly smaller than that of $Z$ and the assumption that
    $P_g(\overline{Z}) = h^{d,0}(\overline{Z}) \neq 0$ it cannot be one of the $\Psi_h(X_i)$ because all these polynomials have strictly smaller
    degree. Hence we have $\Psi_h(\overline{Z}) = \Psi_h(\overline{Y}_i)$ for some $i$ and in particular, since they are of the same dimension, 
    the genus of $\overline{Z}$ and $Y_i$ must agree.
\end{proof}

Now let $X$ be a smooth projective surface with $P_g(X) \geq 2$. We will show that $\zeta_{\mu_h}(X,t) \in \mathcal{H}[[t]]$ is not rational,
thus proving Theorem \ref{irrational}. We need one technical lemma about the genus of symmetric powers of X whose proof is out of scope of this
thesis.

\begin{lemma}[{\cite[Lem. 3.8]{MR1996804}}]
    \label{genus}
    Let $X$ be a smooth, projective surface over $\mathbb{C}$. Then
    \[
        P_g(\Sym^n(X)) = \binom{P_g(X) + n - 1}{P_g(X) - 1}.
    \]
\end{lemma}

We will use the following rationality criterion for power series.

\begin{lemma}[{\cite[Lem. 3.1]{bruhat}}]
    Let $k$ be a field and suppose the power series $\sum a_it^i \in k[[t]]$  is a rational function (i.e.\ an element in $k(t)$) then
    there exist $n, n_0 > 0$ such that for each $m > n_0$ the determinant
    \[
        \begin{vmatrix}
            a_m     & a_{m+1} & \dots & a_{m+n} \\
            a_{m+1} & a_{m+2} & \dots & a_{m+n+1} \\
            \vdots  & \vdots  & \ddots & \vdots \\
            a_{m+n} & a_{m+n+1} & \dots & a_{m+2n}
        \end{vmatrix}
    \]
    vanishes.
\end{lemma}
\begin{proof}
    Denote the above matrix by $A$. Since $\sum a_it^i$ is rational, we may write it as
    \[
        \sum a_it^i = \frac{p_0 + \dots + p_et^e}{q_0 + \dots + q_n t^n}
    \]
    with not all $q_i$ being zero.
    Hence 
    $p_0 + \dots + p_et^e = \left(\sum a_it^i\right)\left(q_0 + \dots + q_d t^d\right) = \sum_{i=0}^{\infty} \left(\sum_{k+l=i} a_kq_l\right)t^i$.
    This means that for $m > e$ we get $0 = \sum_{k+l=m} a_kq_l$. Now note that $q_l = 0$ for $l > n$ hence we may rewrite this as
    \[
        0 = \sum_{l = 0}^{n} q_la_{m-l} = \sum_{l=0}^n q_{n-l}a_{m-n+l}.
    \]
    Thus we have shown that
    \[
        \begin{pmatrix}
            a_m     & a_{m+1} & \dots & a_{m+n} \\
            a_{m+1} & a_{m+2} & \dots & a_{m+n+1} \\
            \vdots  & \vdots  & \ddots & \vdots \\
            a_{m+n} & a_{m+n+1} & \dots & a_{m+2n}
        \end{pmatrix}
        \begin{pmatrix}
            q_n \\ \vdots \\ q_1 \\ q_0
        \end{pmatrix}
        =
        \begin{pmatrix}
            \sum_{l=0} a_{m+l}q_{n-l} \\ \vdots \\ \vdots \\ \sum_{l=0} a_{m+n+l}q_{n-l}
        \end{pmatrix}
        = 0
    \]
    for m big enough. Since one of the $q_l$ is non zero this means that $A$ has nonempty kernel and hence its determinant vanishes.
\end{proof}

\begin{proof}[Proof of Theorem \ref{irrational}]
    Assume that $\zeta_{\mu_h}(X,t)$ is rational, hence by the above criterion there is an $n$ such that for $m$ big enough
    \begin{gather*}
        \sum_{\sigma \in S_{n+1}} \sgn(\sigma) \mu_h \Big(\left[ \prod_{i=1}^{n+1} \Sym^{m + i + \sigma(i) - 2}(X)\right]\Big)  = 0 \\ 
            \Leftrightarrow
            \mu_h \Big ( \left[ \prod_{i=0}^n \Sym^{m + 2i}(X) \right] \Big )  = - \sum_{\substack{\sigma \in S_{n+1} \\ \sigma \neq id}} 
            \sgn(\sigma) \mu_h \Big ( \left[\prod_{i=0}^n \Sym^{m + i + \sigma(i+1) - 1}(X) \right]\Big ).
    \end{gather*}
    Now we can apply Lemma \ref{same} to conclude that there is a permutation $\sigma$, not the identity permutation, such that
    \[
        P_g \Big(\prod_{i=0}^n \Sym^{m+2i}(X)\Big) = P_g \Big( \prod_{i=0}^n \Sym^{m+i+\sigma(i+1) - 1}(X) \Big)
    \]
    By Lemma \ref{genus} (and using the fact that the genus is multiplicative), we get
    \[
        \prod_{i=0}^n \binom{P_g(X) + m + 2i - 1}{P_g(X) - 1} - \prod_{i=0}^n \binom{P_g(X) + m + i + \sigma(i+1) - 2}{P_g(X) - 1} = 0.
    \]
    By assumption $P_g(X) \geq 2$ hence the left hand side, considered as an polynomial in $m$, is not the zero polynomial. So by taking
    $m$ large enough we obtain a contradiction.
\end{proof}

\bibliography{mybib}{}
\bibliographystyle{alpha}
\end{document}
